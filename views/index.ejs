<div class="row">
  <div class="container">
      <div class="col-md-12 col-centered main text-center">
        <div class="col-md-6 text-center dinner-div">
          <h2>Dinner</h2>
          <h3 class="restaurant-name"></h3>
          <img class="dinner-img" src="/images/question-mark.png" alt="question-mark">
        </div>
        <div class="col-md-6 text-center movie-div">
          <h2>Movie</h2>
          <h3 class="movie-title"></h3>
          <img class="movie-img" src="/images/question-mark.png" alt="question-mark">
        </div>
        <select class="foodSelect" name="">
          <option value="restaurant">Random</option>
          <option value="american">American</option>
          <option value="thai">Thai</option>
          <option value="pizza">Pizza</option>
          <option value="asian">Asian</option>
          <option value="cafes">Cafes</option>
          <option value="italian">Italian</option>
          <option value="sushi">Sushi</option>
          <option value="mexican">Mexican</option>
          <option value="breakfast">Breakfast</option>
          <option value="seafood">Seafood</option>
          <option value="chinese">Chinese</option>
        </select><br>
      </div>
  </div>
</div>

<script type="text/javascript">
  var $mainDiv = $('.main')
  var $dinnerDiv = $('.dinner-div')
  var $movieDiv = $('.movie-div')
  var $inputDiv = $('.input-div')
  var $zipInput = $('<input type="text" placeholder="Zip Code" class="zipInput"></input><br>')
  var $randomButton = $('<button class="btn">Random Date</button>')
  var $dinnerImg = $('.dinner-img')
  var $movieImg = $('.movie-img')
  var $restaurantName = $('.restaurant-name')
  var $movieTitle = $('.movie-title')
  var $foodSelect = $('.foodSelect')
  // if user clicks on random...
  // var $favoriteThisDinner = $("<span id='faveDinner' class='glyphicon glyphicon-star-empty'></span>")
  // var $favoriteThisMovie = $("<span id='faveMovie' class='glyphicon glyphicon-star-empty'></span>")
  // $dinnerDiv.append($favoriteThisDinner)
  // $movieDiv.append($favoriteThisMovie)
  $mainDiv.append($zipInput) // to get val do $zipInput.val()
  $mainDiv.append($randomButton)

  $randomButton.on('click', function() {
    // animate
    $.ajax({
      url: '/random?zipCode=' + $zipInput.val() + '&foodType=' + $('.foodSelect :selected').val()
    })
    .done(function(data) {
      console.log(data)
      console.log($('.foodSelect :selected').val());
      var random = Math.floor((Math.random()*data.searchResult.length)+ 1)
      var randomMovie = Math.floor((Math.random()*data.movies.length)+ 1)
      $restaurantName.text(data.searchResult[random].name)
      $dinnerImg.attr('src', data.searchResult[random].image_url )
      $movieTitle.text(data.movies[randomMovie].original_title)
      $movieImg.attr('src', data.movies[randomMovie].poster_image.image_files[0].url)
    })
  })
</script>
